@(topBarText: Html)(content: Html)

@mainTheme(topBarText) {
  @helper.requireJs(core = routes.Assets.at("javascripts/require.js").url, module = routes.Assets.at("javascripts/TortoiseJS/tortoise").url)
  <link rel="stylesheet" href='@routes.WebJarAssets.at(WebJarAssets.locate("chosen/chosen.css"))' />
  <script type="text/javascript" src='@routes.WebJarAssets.at(WebJarAssets.locate("chosen/chosen.jquery.js"))'></script>

  <td width="38%">
    <div class="model-list">
    </div>
    <pre class="netlogo-model hor_centered inner_box rounded background_backgrounded">
    </pre>
  </td>

  @content

  <script type="text/javascript" src='@routes.Assets.at("javascripts/models.js")'></script>
  <script type="text/javascript">
    var session;
    require(['tortoise'], function (tortoise) {
      console.log(tortoise);
      session = tortoise('.netlogo-model', exports.ChatGlobals.socketURL);
      exports.initChat(session);
    });
    var modelList = $('.model-list');
    exports.modelList(modelList);
  </script>

}
